<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>

<body>
  <h1>Por Matheus Rocha. @matheustemh</h1>
  <p>Desafio do módulo Manipulando a DOM do Curso JavaScript - Starter da Rocketseat.</p>
  <h2>Enunciado dos exercícios: </h2>
  <article>
    <h1>Exercícios: Módulo 02</h1>
    <h2>1º exercício</h2>
    <p>Crie um botão que ao ser clicado cria um novo elemento em tela com a forma de um quadrado vermelho com 100px de
      altura e largura. Sempre que o botão for clicado um novo quadrado deve aparecer na tela.</p>
    <h2>2º exercício</h2>
    <p>Utilizando o resultado do primeiro desafio, toda vez que o usuário passar o mouse por cima de algum quadrado
      troque sua cor para uma cor aleatória gerada pela função abaixo:</p>
    <div>
      <pre>function getRandomColor() {
     var letters = '0123456789ABCDEF';
     var color = '#';
     for (var i = 0; i &lt; 6; i++) {
     color += letters[Math.floor(Math.random() * 16)];
     }
     return color;
    }
    var newColor = getRandomColor(); // #E943F0</pre>
    </div>
    <h2>3º exercício</h2>
    <p>A partir do seguinte vetor:</p>
    <div>
      <pre>var nomes = ['Diego', 'Gabriel', 'Lucas'];</pre>
    </div>
    <p>Preencha uma lista (<code>&lt;ul&gt;</code>) no HTML com os itens da seguinte forma:</p>
    <ul>
      <li>Diego</li>
      <li>Gabriel</li>
      <li>Lucas</li>
    </ul>
    <h2>4º exercício</h2>
    <p>Seguindo o resultado do exercício anterior adicione um input em tela e um botão como a seguir:</p>
    <div>
      <pre>&lt;input type="text" name="nome"&gt;
    &lt;button onClick="adicionar()"&gt;Adicionar&lt;/button&gt;</pre>
    </div>
    <p>Ao clicar no botão, a função <code>adicionar()</code> deve ser disparada adicionando um novo item a lista de
      nomes baseado no nome preenchido no input e renderizando o novo item em tela juntos aos demais itens anteriores.
      Além disso, o conteúdo do input deve ser apagado após o clique.</p>
    <h2>5º exercício (Desafio master, vai encarar?)</h2>
    <p>Dado o seguinte vetor:</p>
    <div>
      <pre>var users = [
     {
     nome: 'Diego',
     idade: 23,
     sexo: 'M',
     },
     {
     nome: 'Gabriela',
     idade: 18,
     sexo: 'F',
     },
     {
     nome: 'José',
     idade: 30,
     sexo: 'M',
     },
     {
     nome: 'Maria',
     idade: 27,
     sexo: 'F',
     }
    ];</pre>
    </div>
    <p>Exiba os dados em tela em forma de lista como a seguir e crie 3 botões abaixo:</p>
    <div>
      <pre>&lt;ul&gt;
     &lt;li&gt;Diego é homem e possui 23 anos&lt;/li&gt;
     &lt;li&gt;Gabriela é mulher e possui 18 anos&lt;/li&gt;
     &lt;li&gt;José é homem e possui 30 anos&lt;/li&gt;
     &lt;li&gt;Maria é mulher e possui 27 anos&lt;/li&gt;
    &lt;/ul&gt;
    &lt;button onClick=""&gt;Ordenar por nome&lt;/button&gt;
    &lt;button onClick=""&gt;Ordenar por idade&lt;/button&gt;
    &lt;button onClick=""&gt;Exibir apenas homens&lt;/button&gt;
    &lt;button onClick=""&gt;Exibir apenas mulheres&lt;/button&gt;
    &lt;button onClick=""&gt;Exibir todos&lt;/button&gt;</pre>
    </div>
    <p>Os dois primeiros botões devem ordenar a lista, por nome e por idade. Os outros 3 botões devem aplicar filtros na
      lista exibindo apenas homens, apenas mulheres ou todos. Lembrando que o filtro deve funcionar junto da ordenação
      então deve ser possível filtrar apenas homens e ordenar por idade.</p>
  </article>

  <hr>
  <h1>Resoluções</h1>
  <div id="exercicio1">
    <h2>Exercício 1 e 2</h2>
    <button onclick="criaQuadrado()">Click-me</button>
    <br><br>
  </div>

  <div id="exercicio2">
    <h2>Exercício 3 e 4</h2>
    <h3>Array</h3>
    <button id="ex34" onClick="exercicio34()">Go!</button>
    <br>
  </div>

  <div id="exercicio5">
    <h2>Exercício 5</h2>
    <button id="ex5" onClick="exercicio5()">Go!</button>
  </div>

  <script>
    function criaQuadrado() {
      const boxElement = document.createElement('div');
      boxElement.setAttribute('id', 'box');
      boxElement.style.display = 'inline-block';
      boxElement.style.width = '50px';
      boxElement.style.height = '50px';
      boxElement.style.marginRight = '50px';
      boxElement.style.backgroundColor = '#f00';
      boxElement.onmouseover = function () {
        boxElement.style.background = getRandomColor();
      };
      const containerElement = document.querySelector('#exercicio1');
      containerElement.appendChild(boxElement);
    }

    function getRandomColor() {
      var letters = "0123456789ABCDEF";
      var color = "#";
      for (var i = 0; i < 6; i++) {
        color += letters[Math.floor(Math.random() * 16)];
      }
      return color;
    }

    var nomes = ['Diego', 'Gabriel', 'Lucas'];
    const inputElement = document.createElement('input');
    const ulElement = document.createElement('ul');

    function exercicio34() {
      const containerElement = document.querySelector('#exercicio2');
      const btnElement = document.createElement('button');
      const btnText = document.createTextNode("Adicionar");
      const btnGo = document.querySelector('#ex34');
      btnGo.removeAttribute('onclick');
      btnElement.setAttribute('onclick', 'adicionar()');
      btnElement.appendChild(btnText);
      inputElement.type = "text";
      inputElement.name = "nome";
      containerElement.appendChild(ulElement);
      containerElement.appendChild(inputElement);
      containerElement.appendChild(btnElement);
      for (const name of nomes) {
        const liElement = document.createElement('li');
        const liValue = document.createTextNode(name);
        liElement.appendChild(liValue);
        ulElement.appendChild(liElement);
      }
    }

    function adicionar() {
      if (inputElement.value !== "") {
        const liElement = document.createElement('li');
        const liValue = document.createTextNode(inputElement.value);
        liElement.appendChild(liValue);
        ulElement.appendChild(liElement);
        inputElement.value = "";
      }
    }

    var users = [
      {
        nome: 'Diego',
        idade: 23,
        sexo: 'M',
      },
      {
        nome: 'Gabriela',
        idade: 18,
        sexo: 'F',
      },
      {
        nome: 'José',
        idade: 30,
        sexo: 'M',
      },
      {
        nome: 'Maria',
        idade: 27,
        sexo: 'F',
      }
    ];
    const ulElement5 = document.createElement('ul');
    let ordematual;

    function exercicio5() {
      ordematual = "Todos";
      const btnGo = document.querySelector('#ex5');
      const containerElement = document.querySelector('#exercicio5');
      const btnNomeElement = document.createElement('button');
      const btnIdadeElement = document.createElement('button');
      const btnHomemElement = document.createElement('button');
      const btnMulherElement = document.createElement('button');
      const btnGeralElement = document.createElement('button');
      const nometxt = document.createTextNode("Ordenar por nome");
      const idadetxt = document.createTextNode("Ordenar por idade");
      const homemtxt = document.createTextNode("Exibir apenas homens");
      const mulhertxt = document.createTextNode("Exibir apenas mulheres");
      const geraltxt = document.createTextNode("Exibir todos");
      ulElement5.setAttribute('id', 'listausers');
      containerElement.appendChild(ulElement5);
      btnGo.removeAttribute('onclick');
      btnNomeElement.setAttribute('onClick', 'ordemNome()');
      btnNomeElement.appendChild(nometxt);
      btnIdadeElement.setAttribute('onClick', 'ordemIdade()');
      btnIdadeElement.appendChild(idadetxt);
      btnHomemElement.setAttribute('onClick', 'ordemHomem()');
      btnHomemElement.appendChild(homemtxt);
      btnMulherElement.setAttribute('onClick', 'ordemMulher()');
      btnMulherElement.appendChild(mulhertxt);
      btnGeralElement.setAttribute('onClick', 'ordemGeral()');
      btnGeralElement.appendChild(geraltxt);
      containerElement.appendChild(btnNomeElement);
      containerElement.appendChild(btnIdadeElement);
      containerElement.appendChild(btnHomemElement);
      containerElement.appendChild(btnMulherElement);
      containerElement.appendChild(btnGeralElement);
      listarVetor();
    }

    function limpalista() {
      const listapovoada = document.querySelectorAll("#listausers li");
      for (let index = 0; index < listapovoada.length; index++) {
        const element = listapovoada[index];
        element.parentElement.removeChild(element);
      }
    }

    function listarVetor() {
      const filterM = users.filter(item => item.sexo === "M");
      const filterF = users.filter(item => item.sexo === "F");
      if (ordematual == "Homens") {
        _users = filterM;
      } else if (ordematual == "Mulheres") {
        _users = filterF;
      } else if (ordematual == "Todos") {
        _users = users;
      }
      listarVetorpt2();
    }

    function listarVetorpt2() {
      limpalista();
      for (const usuario of _users) {
        const { nome, idade, sexo } = usuario;
        const liElement = document.createElement('li');
        const sexos = (sexo === 'M') ? 'homem' : 'mulher';
        const liValue = document.createTextNode(nome + " é " + sexos + " e possui " + idade + " anos.");
        liElement.appendChild(liValue);
        ulElement5.appendChild(liElement);
      }
    }

    function ordemNome() {
      _users.sort(function (a, b) {
        if (a.nome.toUpperCase() < b.nome.toUpperCase()) return -1;
        if (a.nome.toUpperCase() > b.nome.toUpperCase()) return 1;
        return 0;
      });
      listarVetorpt2();
    }

    function ordemIdade() {
      _users.sort(function (a, b) {
        if (a.idade < b.idade) return -1;
        if (a.idade > b.idade) return 1;
        return 0;
      });
      listarVetorpt2();
    }

    function ordemHomem() {
      ordematual = "Homens";
      listarVetor();
    }

    function ordemMulher() {
      ordematual = "Mulheres";
      listarVetor();
    }

    function ordemGeral() {
      ordematual = "Todos";
      listarVetor();
    }

  </script>
</body>

</html>